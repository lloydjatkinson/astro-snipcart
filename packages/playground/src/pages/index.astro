---
import PlaygroundLayout from '../layouts/PlaygroundLayout.astro';
import { SnipcartSetup } from '@lloydjatkinson/astro-snipcart/astro';
import { StorePageLayout } from '@lloydjatkinson/astro-snipcart-design-system/astro';

import {
	Stack,
	ProductGrid,
	PageLayout,
	Hero,
	ProductCard,
	Banner,
	Storefront,
	ProductWithColorPicker
} from '@lloydjatkinson/astro-snipcart-design-system/astro';
import { ProductMeta, SnipcartProduct } from '@lloydjatkinson/astro-snipcart';

// import {
// 	ProductCard
// } from '@lloydjatkinson/astro-snipcart-design-system'

const productCards = [];
for (let i = 0; i < 10; i++) {
  productCards.push({
    id: `${i}`,
    name: `Product ${i}`,
    description: `Product ${i} description`,
    price: Math.floor(Math.random() * 100),
    // image: `https://picsum.photos/400/600?image=${Math.floor(Math.random() * 100)}`,
	image: '../../products/images/t-shirt-green.jpg',
    currencySymbol: 'Â£',
  });
};

interface Style {
    readonly name: string;
    readonly hex: string;
};

const styles: Style[] = [
	{ name: 'Blue', hex: '#1C4CAA' },
	{ name: 'Cobalt Blue', hex: '#425879' },
	{ name: 'Purple', hex: '#5D426B' },
	{ name: 'Bright Purple', hex: '#775489' },
	{ name: 'Cyan', hex: '#4F988A' },
	{ name: 'Light Green', hex: '#638C6D' },
	{ name: 'Green', hex: '#257B2D' },
	{ name: 'Grey', hex: '#5F706D' },
	{ name: 'Red', hex: '#CA0025' },
];

const products =
	(await Astro.glob<SnipcartProduct & ProductMeta>('../pages/products/*.md'))
	.map((markdownProduct) => ({ ...markdownProduct.frontmatter }));
---
<StorePageLayout
	title="Astro Snipcart by @lloydjatkinson"
	banner="Here's a banner you can use to alert customers to new deals!">
	<Storefront
		title="Astro Snipcart Integration"
		description="Demo store for Astro and Snipcart"
		banner="Here's a banner you can use to alert customers to new deals!"
		heroHeading="The here and now"
		heroSubHeading="For the creative and curious - these are the products that you're looking for."
		heroImage="/assets/images/t-shirts-on-hangers.jpg"
		products={ products } />
</StorePageLayout>