---
const publicApiKey = process.env.PUBLIC_SNIPCART_API_KEY || import.meta.env.PUBLIC_SNIPCART_API_KEY;
if (!publicApiKey) {
    throw new Error('Snipcart requires a public API key configuring. Ensure the PUBLIC_SNIPCART_API_KEY environment variable has been set.')
}
---

<link rel="preconnect" href="https://app.snipcart.com" />
<link rel="preconnect" href="https://cdn.snipcart.com" />
<link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.3.3/default/snipcart.css" />
<script async src="https://cdn.snipcart.com/themes/v3.3.3/default/snipcart.js"></script>
<div
    hidden
    id="snipcart"
    data-api-key={ publicApiKey }
    data-config-modal-style="side">
</div>

<style is:global>
:root {
    /* Default */
    --color-buttonPrimary: #1a4db3;
    --borderColor-buttonPrimary: #1a4db3;
    --bgColor-buttonPrimary: #1a4db3;
}
</style>

<script src="//unpkg.com/alpinejs" defer></script>